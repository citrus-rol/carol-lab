---
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import BaseLayout from '../layouts/BaseLayout.astro';
import BackToTop from '../components/BackToTop.astro';
---

<BaseLayout title="聯絡" mainClass="contact-main">
  <Navbar slot="navbar" />

  <main class="contact-main">
    <div class="iframe-wrapper">
      <iframe
        src="https://tally.so/embed/wbJ2vo?dynamicHeight=1"
        frameborder="0"
        title="歡迎合作洽談"
        class="tally-iframe"
      ></iframe>
    </div>
  </main>

  <BackToTop />
  <Footer slot="footer" />

  <style>
    /* 外層容器 */
    .iframe-wrapper {
      width: 100%;
      max-width: 1200px;
      margin: 64px auto;
      padding: 32px;
      box-sizing: border-box;
      background-color: #d3d7d9;
      border-radius: 12px;
      box-shadow: 0 0 24px #243640;
      overflow: hidden; /* 這裡保留，只裁切陰影範圍 */
    }

    /* iframe 設定 */
    .tally-iframe {
      width: 100%;
      min-height: 1000px;
      border: none;
      display: block;
    }

    /* 平板響應式 */
    @media (max-width: 1024px) {
      .iframe-wrapper {
        padding: 16px;
        margin: 32px auto;
      }
      .tally-iframe {
        min-height: 800px;
      }
    }

    /* 手機響應式 */
    @media (max-width: 480px) {
      main.contact-main {
        min-height: calc(100vh - 60px); 
        overflow-y: auto;           
        -webkit-overflow-scrolling: touch;
      }
      main::-webkit-scrollbar {
        display: none; 
      }
      .iframe-wrapper {
        padding: 12px;
        margin: 16px auto;
      }
      .tally-iframe {
        min-height: 900px; /* 拉長，確保送出鍵能完整顯示 */
      }
    }
  </style>
</BaseLayout>
